{
  "hash": "72c41bad60ee369fcb015666fd9700a3",
  "result": {
    "markdown": "---\ntitle: \"Challenge 4\"\nauthor: \"Aritra Basu\"\ndescription: \"More data wrangling: pivoting\"\ndate: \"04/01/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n  - Aritra Basu\n  - fed_rates\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(descr)\nlibrary(readr)\nlibrary(summarytools)\nlibrary(naniar)\nlibrary(ggplot2)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n### Reading in data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmydata <- read.csv(\"_data/FedFundsRate.csv\")\nglimpse(mydata)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 904\nColumns: 10\n$ Year                         <int> 1954, 1954, 1954, 1954, 1954, 1954, 1955,…\n$ Month                        <int> 7, 8, 9, 10, 11, 12, 1, 2, 3, 4, 5, 6, 7,…\n$ Day                          <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Federal.Funds.Target.Rate    <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Federal.Funds.Upper.Target   <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Federal.Funds.Lower.Target   <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Effective.Federal.Funds.Rate <dbl> 0.80, 1.22, 1.06, 0.85, 0.83, 1.28, 1.39,…\n$ Real.GDP..Percent.Change.    <dbl> 4.6, NA, NA, 8.0, NA, NA, 11.9, NA, NA, 6…\n$ Unemployment.Rate            <dbl> 5.8, 6.0, 6.1, 5.7, 5.3, 5.0, 4.9, 4.7, 4…\n$ Inflation.Rate               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n```\n:::\n:::\n\n\n\n### Describing the data\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(summarytools::dfSummary(mydata,\n                        varnumbers = FALSE,\n                        plain.ascii  = FALSE, \n                        style        = \"grid\", \n                        graph.magnif = 0.70, \n                        valid.col    = FALSE),\n      method = 'render',\n      table.classes = 'table-condensed')\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"container st-container\">\n<h3>Data Frame Summary</h3>\n<h4>mydata</h4>\n<strong>Dimensions</strong>: 904 x 10\n  <br/><strong>Duplicates</strong>: 0\n<br/>\n<table class=\"table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline table-condensed\">\n  <thead>\n    <tr>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Variable</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Stats / Values</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Freqs (% of Valid)</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Graph</strong></th>\n      <th align=\"center\" class=\"st-protect-top-border\"><strong>Missing</strong></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td align=\"left\">Year\n[integer]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 1986.7 (17.2)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1954 &le; 1987.5 &le; 2017</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 28 (0)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">64 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIX6N8jTgAAAIdJREFUWMPt1W0KgCAMBmCPUJ2g7Abt/ndrskQDQzckyN73jx/0MFFM58bP/BDPKc1PFbcTHXB93MJnYHJEBFdzYXc3i+PRO04WqHcCvuTS30bn0u42ulDI4rIGrq+To89cuJj3FJ2UzF3hEzg4ODi4QZw8B3p3zbQ5rrFaHPfg/u28MtGNnBMKdOtreLlQwgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNC0wMlQxOTo1MDoyMyswMDowMEMsuQ8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDQtMDJUMTk6NTA6MjMrMDA6MDAycQGzAAAAAElFTkSuQmCC\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Month\n[integer]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 6.6 (3.5)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1 &le; 7 &le; 12</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 6 (0.5)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">12 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIX6N8jTgAAAHhJREFUWMPt1VEKgCAQRVGXUK6gdAfN/vdWMzhCCmH9BHIfCIO8I/NnCPMnXdnX8SzFZRHB4XA4HO4Pp3/X9sFpd8xF/x5taJ3epW4ji5Rnow6t03PUum9kt+LPPjobfKPqbkPnvF4bg65r4HA4HA6Ha116GXcz5wRiPdU5+m0ICAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNC0wMlQxOTo1MDoyMyswMDowMEMsuQ8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDQtMDJUMTk6NTA6MjMrMDA6MDAycQGzAAAAAElFTkSuQmCC\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Day\n[integer]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 3.6 (6.8)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1 &le; 1 &le; 31</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 0 (1.9)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">29 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIX6N8jTgAAAEdJREFUWMPt17ENACAIBVFG0A30OwL772aBEltbclcQmkePWf0kzf5RO26543A4HA6Hw+FwOBwOV8TFd5zzLa/Gfp0+G1a/DRuzB6mhir3lAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA0LTAyVDE5OjUwOjIzKzAwOjAwQyy5DwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNC0wMlQxOTo1MDoyMyswMDowMDJxAbMAAAAASUVORK5CYII=\"></td>\n      <td align=\"center\">0\n(0.0%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Federal.Funds.Target.Rate\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 5.7 (2.6)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">1 &le; 5.5 &le; 11.5</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 4 (0.5)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">63 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIX6N8jTgAAAIpJREFUWMPt1sENgCAMBVBGECfQuoHsv5uUhIN8SaAmGMn/p0r61PQAODd/fJlVYnZfy1J1IYaOjo6Ojm5uB6dkozvKrl86vCQ0Ovj4o9O3i8Hpw/mFy+PodXl1pIPhgksd4GBI4FKHWosLZXEbrhhcKujo6N67vMP1Oi1GO/3XzeC0eOukM9nNnAs2ao8pUem0tgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNC0wMlQxOTo1MDoyMyswMDowMEMsuQ8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDQtMDJUMTk6NTA6MjMrMDA6MDAycQGzAAAAAElFTkSuQmCC\"></td>\n      <td align=\"center\">442\n(48.9%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Federal.Funds.Upper.Target\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 0.3 (0.1)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">0.2 &le; 0.2 &le; 1</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 0 (0.5)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">4 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAGMAAABJBAMAAADbIoX2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIX6N8jTgAAAFtJREFUSMft09EJACAIBNBGqA3KNqj9d+sjBziNCuTu24cIZ0qxIniqkj7hkJC8Io4mFzzZT3SphezzBwnJNeKoJTL7hYg0K+mThOQucdQSnT8j0NeTkEQkUbIAj7MdrIhLHwEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDQtMDJUMTk6NTA6MjMrMDA6MDBDLLkPAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA0LTAyVDE5OjUwOjIzKzAwOjAwMnEBswAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">801\n(88.6%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Federal.Funds.Lower.Target\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 0.1 (0.1)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">0 &le; 0 &le; 0.8</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 0 (2.4)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">4 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAGMAAABJBAMAAADbIoX2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIYeGA+3wAAAFtJREFUSMft09EJACAIBNBGqA3KNqj9d+sjBziNCuTu24cIZ0qxIniqkj7hkJC8Io4mFzzZT3SphezzBwnJNeKoJTL7hYg0K+mThOQucdQSnT8j0NeTkEQkUbIAj7MdrIhLHwEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDQtMDJUMTk6NTA6MjQrMDA6MDCGi4eBAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA0LTAyVDE5OjUwOjI0KzAwOjAw99Y/PQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">801\n(88.6%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Effective.Federal.Funds.Rate\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 4.9 (3.6)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">0.1 &le; 4.7 &le; 19.1</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 4.2 (0.7)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">466 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIYeGA+3wAAAHxJREFUWMPt18EJwCAMBVBHqJ2gjRvU/XdrFZIexEjioUX+P+Sij4CikBDWT+TsVBJH2RqXn1xwHzm5NaNLvBuudfVQHS5LgYODg4PzufIBnw5XiteR1lRxSWsKBwf3X9d79CPXawo34Uhic+/ijKsT8GFzMimwI2PYrZwbLS6QijvliaoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDQtMDJUMTk6NTA6MjQrMDA6MDCGi4eBAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA0LTAyVDE5OjUwOjI0KzAwOjAw99Y/PQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">152\n(16.8%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Real.GDP..Percent.Change.\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 3.1 (3.6)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">-10 &le; 3.1 &le; 16.5</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 3.5 (1.1)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">113 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIYeGA+3wAAAF5JREFUWMPt1rENwCAMBVGPEDaAZAT23w2hxI3FF6G17hoantxYCLP8ldD91cq6S7inv+FwOBwOh8Phcjj1L9w5NReHm/lenbp4H4dbObVffsZ3zZ26r+bGeX+rlr8BeFFbGGuHQ68AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDQtMDJUMTk6NTA6MjQrMDA6MDCGi4eBAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA0LTAyVDE5OjUwOjI0KzAwOjAw99Y/PQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">654\n(72.3%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Unemployment.Rate\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 6 (1.6)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">3.4 &le; 5.7 &le; 10.8</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 2.1 (0.3)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">71 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIYeGA+3wAAAJ1JREFUWMPt1dsNgCAMBVBGkA0UR2D/3SRpqMijUDUkQO//SXmUotT80c8YYw5NZcu701pxqznXLK+cQ+JWc9AsfAdInLghXOkDrblS4X8cPj6mQzSWIz4m0hENELjwMDkuRAM5enCXHf2gxNnsqGhw2ZLivrj0KtpcSr2LhkSVeldF0UaZDksyHZbs52CpfAcluzq31P2+d1a8mzkX4o10HOx8OGQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDQtMDJUMTk6NTA6MjQrMDA6MDCGi4eBAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA0LTAyVDE5OjUwOjI0KzAwOjAw99Y/PQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">152\n(16.8%)</td>\n    </tr>\n    <tr>\n      <td align=\"left\">Inflation.Rate\n[numeric]</td>\n      <td align=\"left\" style=\"padding:8;vertical-align:middle\"><table style=\"border-collapse:collapse;border:none;margin:0\"><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">Mean (sd) : 3.7 (2.6)</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">min &le; med &le; max:</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">0.6 &le; 2.8 &le; 13.6</td></tr><tr style=\"background-color:transparent\"><td style=\"padding:0;margin:0;border:0\" align=\"left\">IQR (CV) : 2.7 (0.7)</td></tr></table></td>\n      <td align=\"left\" style=\"vertical-align:middle\">106 distinct values</td>\n      <td align=\"left\" style=\"vertical-align:middle;padding:0;background-color:transparent;\"><img style=\"border:none;background-color:transparent;padding:0;max-width:max-content;\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wQCEzIYeGA+3wAAAJFJREFUWMPt1cENgCAMBVBGECfQugHdfzdT4SCKtHChkv5Lg/EFkRKcmz/+ygoAu5dkyR0imvupo03vcojBnDlz5syNcILruuz4ac1pdSC6rt/uELWbOf2uduyrrjKtGse096djfusoF5fT7uJrahwto8fRKONtLhWZo2NBo1RkLrXb7WH8VM6VSnjse0s2N39O3CRVDOTy3YUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDQtMDJUMTk6NTA6MjQrMDA6MDCGi4eBAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA0LTAyVDE5OjUwOjI0KzAwOjAw99Y/PQAAAABJRU5ErkJggg==\"></td>\n      <td align=\"center\">194\n(21.5%)</td>\n    </tr>\n  </tbody>\n</table>\n<p>Generated by <a href='https://github.com/dcomtois/summarytools'>summarytools</a> 1.0.1 (<a href='https://www.r-project.org/'>R</a> version 4.2.2)<br/>2023-04-02</p>\n</div>\n```\n:::\n:::\n\n\nWe have data on federal funds rates between 1954 and 2017. The variables include a target rate, as well as upper and lower targets. Along with that, it also contains effective rates which seem to be the actual prevailing rates at that point of time. We also have percentage change in GDP, unemployment and inflation. \n\nAfter viewing the data, it can be seen that we need to combine the date into a single variable (from the year, month and day). I also select away the previous three variables of month year and day, and rename the other variables. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nmydata2 <- mydata %>% \nmutate (date=ymd(paste(Year, Month, Day, sep = \"-\")))%>%\nselect(date, everything())%>%\nselect(-Year,-Month,-Day)%>% \n  rename (Target_Rate = \"Federal.Funds.Target.Rate\", Upper_Target=\"Federal.Funds.Upper.Target\", Lower_Target=\"Federal.Funds.Lower.Target\", Effective_Rate=\"Effective.Federal.Funds.Rate\", GDP_Percent_Change=\"Real.GDP..Percent.Change.\", Unemployment_Rate=\"Unemployment.Rate\", Inflation_Rate=\"Inflation.Rate\")   \nglimpse(mydata2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 904\nColumns: 8\n$ date               <date> 1954-07-01, 1954-08-01, 1954-09-01, 1954-10-01, 19…\n$ Target_Rate        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ Upper_Target       <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ Lower_Target       <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ Effective_Rate     <dbl> 0.80, 1.22, 1.06, 0.85, 0.83, 1.28, 1.39, 1.29, 1.3…\n$ GDP_Percent_Change <dbl> 4.6, NA, NA, 8.0, NA, NA, 11.9, NA, NA, 6.7, NA, NA…\n$ Unemployment_Rate  <dbl> 5.8, 6.0, 6.1, 5.7, 5.3, 5.0, 4.9, 4.7, 4.6, 4.7, 4…\n$ Inflation_Rate     <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n```\n:::\n\n```{.r .cell-code}\nView(mydata2)\n```\n:::\n\nIt can be seen that the date variable has been appropriately created, and other variables are modified.\n\n### Tidy Data (as needed)\n\nThe data is already tidy, with ymd observations from 1954 to 2017.\n\n### Missing values\n\nThe next task is to look at the missing values systematically.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_missing <- mydata2 %>% \n  summarise_all(funs(n_miss = sum(is.na(.)), prop_miss = mean(is.na(.))))\nglimpse(df_missing)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1\nColumns: 16\n$ date_n_miss                  <int> 0\n$ Target_Rate_n_miss           <int> 442\n$ Upper_Target_n_miss          <int> 801\n$ Lower_Target_n_miss          <int> 801\n$ Effective_Rate_n_miss        <int> 152\n$ GDP_Percent_Change_n_miss    <int> 654\n$ Unemployment_Rate_n_miss     <int> 152\n$ Inflation_Rate_n_miss        <int> 194\n$ date_prop_miss               <dbl> 0\n$ Target_Rate_prop_miss        <dbl> 0.4889381\n$ Upper_Target_prop_miss       <dbl> 0.8860619\n$ Lower_Target_prop_miss       <dbl> 0.8860619\n$ Effective_Rate_prop_miss     <dbl> 0.1681416\n$ GDP_Percent_Change_prop_miss <dbl> 0.7234513\n$ Unemployment_Rate_prop_miss  <dbl> 0.1681416\n$ Inflation_Rate_prop_miss     <dbl> 0.2146018\n```\n:::\n:::\n\nHere, we can see the proportion of missing values. I suspect that the missing values could be date specific.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mydata2, aes(x = date, y = Target_Rate)) +\n  geom_miss_point()\n```\n\n::: {.cell-output-display}\n![](aritrabasu_challenge_4_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mydata2, aes(x = date, y = Upper_Target)) +\n  geom_miss_point()\n```\n\n::: {.cell-output-display}\n![](aritrabasu_challenge_4_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mydata2, aes(x = date, y = Lower_Target)) +\n  geom_miss_point()\n```\n\n::: {.cell-output-display}\n![](aritrabasu_challenge_4_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n:::\n\nWe can see that the variable Target_Rate is completely missing before 1980's and is also missing after late 2000s. It seems that upper and lower targets replace the Target_Rate variable.\n\nNow, I first filter data from 1980, and also impute the missing values from the later part of the data where Target_Rate is missing, but lower and upper target rates are present.\n\n### Identifying variables that need to be mutated\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmydata3 <- mydata2 %>% \n     filter(date> ymd(\"1982-09-01\"))%>%\n     mutate (Imputed_Target_Rate = ifelse(is.na(Target_Rate), (Lower_Target + Upper_Target) / 2, Target_Rate))\nglimpse(mydata3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 565\nColumns: 9\n$ date                <date> 1982-09-27, 1982-10-01, 1982-10-07, 1982-11-01, 1…\n$ Target_Rate         <dbl> 10.2500, 10.0000, 9.5000, 9.5000, 9.0000, 9.0000, …\n$ Upper_Target        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ Lower_Target        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ Effective_Rate      <dbl> NA, 9.71, NA, 9.20, NA, 8.95, NA, 8.68, 8.51, 8.77…\n$ GDP_Percent_Change  <dbl> NA, 0.4, NA, NA, NA, NA, NA, 5.3, NA, NA, NA, 9.4,…\n$ Unemployment_Rate   <dbl> NA, 10.4, NA, 10.8, NA, 10.8, NA, 10.4, 10.4, 10.3…\n$ Inflation_Rate      <dbl> NA, 5.9, NA, 5.3, NA, 4.5, NA, 4.7, 4.7, 4.7, NA, …\n$ Imputed_Target_Rate <dbl> 10.2500, 10.0000, 9.5000, 9.5000, 9.0000, 9.0000, …\n```\n:::\n:::\n\nWe can now see that the effective rate and the target rate usually move together, and that pattern is retained even after imputation. I this imputation, I have imputed the missing target rates, with the averages of lower and upper targets.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmydata4 <- mydata3 %>%\ngather(variable, value, Imputed_Target_Rate, Effective_Rate) \n\nggplot(mydata4, aes(x = date, y = value, color = variable)) +\ngeom_line()\n```\n\n::: {.cell-output-display}\n![](aritrabasu_challenge_4_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\nWe could moreover, impute the missing values of GDP_percent_change, Unemployment_rate, and Inflation_rate by the annual averages:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmydata5 <- mydata3 %>%\n  group_by(year = lubridate::year(date)) %>%\n  mutate(GDP_Percent_Change_imputed = ifelse(is.na(GDP_Percent_Change), mean(GDP_Percent_Change, na.rm = TRUE), GDP_Percent_Change)) %>%\n  mutate(Unemployment_Rate_imputed = ifelse(is.na(Unemployment_Rate), mean(Unemployment_Rate, na.rm = TRUE), Unemployment_Rate)) %>%\n mutate(Inflation_Rate_imputed = ifelse(is.na(Inflation_Rate), mean(Inflation_Rate, na.rm = TRUE), Inflation_Rate)) %>% \n  ungroup()\n\nmydata6 <- mydata5 %>%\n  select(date, Imputed_Target_Rate, Effective_Rate, GDP_Percent_Change_imputed, Unemployment_Rate_imputed, Inflation_Rate_imputed)\nglimpse(mydata6)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 565\nColumns: 6\n$ date                       <date> 1982-09-27, 1982-10-01, 1982-10-07, 1982-1…\n$ Imputed_Target_Rate        <dbl> 10.2500, 10.0000, 9.5000, 9.5000, 9.0000, 9…\n$ Effective_Rate             <dbl> NA, 9.71, NA, 9.20, NA, 8.95, NA, 8.68, 8.5…\n$ GDP_Percent_Change_imputed <dbl> 0.400, 0.400, 0.400, 0.400, 0.400, 0.400, 0…\n$ Unemployment_Rate_imputed  <dbl> 10.66667, 10.40000, 10.66667, 10.80000, 10.…\n$ Inflation_Rate_imputed     <dbl> 5.233333, 5.900000, 5.233333, 5.300000, 5.2…\n```\n:::\n:::\n\n\nThis is how the final dataset looks like after imputations.\n\n",
    "supporting": [
      "aritrabasu_challenge_4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}