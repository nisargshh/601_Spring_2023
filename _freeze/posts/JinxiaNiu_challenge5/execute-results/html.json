{
  "hash": "27d915d6248619b6ca05f6f7768cc392",
  "result": {
    "markdown": "---\ntitle: \"Challenge 5-AB_NYC_2019\"\nauthor: \"Jinxia Niu\"\ndescription: \"Introduction to Visualization\"\ndate: \"3/28/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_5\n  - Jinxia Niu\n  - AB_NYC_2019\n  \n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least two univariate visualizations\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n5)  Create at least one bivariate visualization\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   cereal.csv ⭐\n-   Total_cost_for_top_15_pathogens_2018.xlsx ⭐\n-   Australian Marriage ⭐⭐ \n-   AB_NYC_2019.csv ⭐⭐⭐\n-   StateCounty2012.xls ⭐⭐⭐\n-   Public School Characteristics ⭐⭐⭐⭐ \n-   USA Households ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n AB_NYC_2019 <- read.csv(\"_data/AB_NYC_2019.csv\")\n dim(AB_NYC_2019)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 48895    16\n```\n:::\n\n```{.r .cell-code}\n colnames(AB_NYC_2019)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"id\"                             \"name\"                          \n [3] \"host_id\"                        \"host_name\"                     \n [5] \"neighbourhood_group\"            \"neighbourhood\"                 \n [7] \"latitude\"                       \"longitude\"                     \n [9] \"room_type\"                      \"price\"                         \n[11] \"minimum_nights\"                 \"number_of_reviews\"             \n[13] \"last_review\"                    \"reviews_per_month\"             \n[15] \"calculated_host_listings_count\" \"availability_365\"              \n```\n:::\n\n```{.r .cell-code}\nhead(AB_NYC_2019,10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     id                                             name host_id   host_name\n1  2539               Clean & quiet apt home by the park    2787        John\n2  2595                            Skylit Midtown Castle    2845    Jennifer\n3  3647              THE VILLAGE OF HARLEM....NEW YORK !    4632   Elisabeth\n4  3831                  Cozy Entire Floor of Brownstone    4869 LisaRoxanne\n5  5022 Entire Apt: Spacious Studio/Loft by central park    7192       Laura\n6  5099        Large Cozy 1 BR Apartment In Midtown East    7322       Chris\n7  5121                                  BlissArtsSpace!    7356       Garon\n8  5178                 Large Furnished Room Near B'way     8967    Shunichi\n9  5203               Cozy Clean Guest Room - Family Apt    7490   MaryEllen\n10 5238               Cute & Cozy Lower East Side 1 bdrm    7549         Ben\n   neighbourhood_group      neighbourhood latitude longitude       room_type\n1             Brooklyn         Kensington 40.64749 -73.97237    Private room\n2            Manhattan            Midtown 40.75362 -73.98377 Entire home/apt\n3            Manhattan             Harlem 40.80902 -73.94190    Private room\n4             Brooklyn       Clinton Hill 40.68514 -73.95976 Entire home/apt\n5            Manhattan        East Harlem 40.79851 -73.94399 Entire home/apt\n6            Manhattan        Murray Hill 40.74767 -73.97500 Entire home/apt\n7             Brooklyn Bedford-Stuyvesant 40.68688 -73.95596    Private room\n8            Manhattan     Hell's Kitchen 40.76489 -73.98493    Private room\n9            Manhattan    Upper West Side 40.80178 -73.96723    Private room\n10           Manhattan          Chinatown 40.71344 -73.99037 Entire home/apt\n   price minimum_nights number_of_reviews last_review reviews_per_month\n1    149              1                 9  2018-10-19              0.21\n2    225              1                45  2019-05-21              0.38\n3    150              3                 0                            NA\n4     89              1               270  2019-07-05              4.64\n5     80             10                 9  2018-11-19              0.10\n6    200              3                74  2019-06-22              0.59\n7     60             45                49  2017-10-05              0.40\n8     79              2               430  2019-06-24              3.47\n9     79              2               118  2017-07-21              0.99\n10   150              1               160  2019-06-09              1.33\n   calculated_host_listings_count availability_365\n1                               6              365\n2                               2              355\n3                               1              365\n4                               1              194\n5                               1                0\n6                               1              129\n7                               1                0\n8                               1              220\n9                               1                0\n10                              4              188\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nAB_NYC_2019 %>% \n    select( \"room_type\",  \"neighbourhood\", \"price\", everything())%>%\n    group_by(room_type) %>%\n    summarise(avg_price = mean(price, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 2\n  room_type       avg_price\n  <chr>               <dbl>\n1 Entire home/apt     212. \n2 Private room         89.8\n3 Shared room          70.1\n```\n:::\n:::\n\n\n\n### Briefly describe the data\nIt's a data set of the Airbnb data in New York City in 2019, it includes 16 variables.48895 observations. The key variables includes the neighborhoods the Airbnb rooms located in, the location, the prices and the reviews they got. There are total three kind of rooms:Emtir home/apt, Private room and Shared room, and the avarage price for each different kind of room is $211, $89 and $70.\n\nThe key questions I am interested are: what's the most expensive neighborhoods? What's the relationship between the price and the location of each different kind of rooms? \n\n## Tidy Data (as needed)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAB_NYC_2019 %>% \n  select(-c(\"id\",\"host_id\",\"host_name\",\"last_review\",\"calculated_host_listings_count\" )) %>%\n  print(AB_NYC_2019)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in print.default(m, ..., quote = quote, right = right, max = max): invalid printing digits -2147483648\n```\n:::\n\n```{.r .cell-code}\n  # what's the codes to combine two variables into one in R? like combine \"latitude\" and \"longitude\"? \n```\n:::\n\n## Univariate Visualizations\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  ggplot(AB_NYC_2019,aes(price))+\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](JinxiaNiu_challenge5_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nAB_NYC_2019 %>%\n  ggplot(aes(neighbourhood_group,price))+\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](JinxiaNiu_challenge5_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nAB_NYC_2019 %>%\n  ggplot(aes(number_of_reviews,neighbourhood_group,))+\n  geom_point()+\n  facet_wrap(vars(neighbourhood_group))\n```\n\n::: {.cell-output-display}\n![](JinxiaNiu_challenge5_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n  AB_NYC_2019 %>%\n  ggplot(aes(price, number_of_reviews))+\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](JinxiaNiu_challenge5_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\nAre there any variables that require mutation to be usable in your analysis stream? For example, do you need to calculate new values in order to graph them? Can string values be represented numerically? Do you need to turn any variables into factors and reorder for ease of graphics and visualization?\n\nDocument your work here.\n\n\n::: {.cell}\n\n:::\n\n\n## Univariate Visualizations\n\n\n## Bivariate Visualization(s)\nAny additional comments?\n",
    "supporting": [
      "JinxiaNiu_challenge5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}