{
  "hash": "b7d86b9162180385a283a3293a4468ed",
  "result": {
    "markdown": "---\ntitle: \"Challenge 4 Instructions\"\nauthor: \"Khadijat Adeleye\"\ndesription: \"More data wrangling: pivoting\"\ndate: \"03/29/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n  - abc_poll\n  - eggs\n  - fed_rates\n  - hotel_bookings\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   abc_poll.csv ⭐\n-   poultry_tidy.xlsx or organiceggpoultry.xls⭐⭐\n-   FedFundsRate.csv⭐⭐⭐\n-   hotel_bookings.csv⭐⭐⭐⭐\n-   debt_in_trillions.xlsx ⭐⭐⭐⭐⭐\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  df <- read.csv(\"_data/FedFundsRate.csv\")\nview(df)\n```\n:::\n\n####DATASET DESCRIPTION\nThe federal funds dataset shows  the trend of united states economy related to federal funds. The economy was measured by the unemployment rate, inflation rate and GDP. The data set consist of 10 column and 904rows. There are 3196 null values in entire data frame. There are seven columns with more than one null Values.\n\n::: {.cell}\n\n```{.r .cell-code}\n# num of rows of dataset\nnrow(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 904\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#num of cols of dataset\nncol(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#name of all the columns\ncolnames(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Year\"                         \"Month\"                       \n [3] \"Day\"                          \"Federal.Funds.Target.Rate\"   \n [5] \"Federal.Funds.Upper.Target\"   \"Federal.Funds.Lower.Target\"  \n [7] \"Effective.Federal.Funds.Rate\" \"Real.GDP..Percent.Change.\"   \n [9] \"Unemployment.Rate\"            \"Inflation.Rate\"              \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n   tail(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Year Month Day Federal.Funds.Target.Rate Federal.Funds.Upper.Target\n899 2016    12   1                        NA                       0.50\n900 2016    12  14                        NA                       0.75\n901 2017     1   1                        NA                       0.75\n902 2017     2   1                        NA                       0.75\n903 2017     3   1                        NA                       0.75\n904 2017     3  16                        NA                       1.00\n    Federal.Funds.Lower.Target Effective.Federal.Funds.Rate\n899                       0.25                         0.54\n900                       0.50                           NA\n901                       0.50                         0.65\n902                       0.50                         0.66\n903                       0.50                           NA\n904                       0.75                           NA\n    Real.GDP..Percent.Change. Unemployment.Rate Inflation.Rate\n899                        NA               4.7            2.2\n900                        NA                NA             NA\n901                        NA               4.8            2.3\n902                        NA               4.7            2.2\n903                        NA                NA             NA\n904                        NA                NA             NA\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n###count for number of null values\nsum(is.na(df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3196\n```\n:::\n:::\n\n#####TIDY DATASET\nwhen tidying up this data, we first want to check if there are any missing entries in the data set.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#count number of missing entries \nnum_missing_cols<-colSums(is.na(df))\nprint(num_missing_cols)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                        Year                        Month \n                           0                            0 \n                         Day    Federal.Funds.Target.Rate \n                           0                          442 \n  Federal.Funds.Upper.Target   Federal.Funds.Lower.Target \n                         801                          801 \nEffective.Federal.Funds.Rate    Real.GDP..Percent.Change. \n                         152                          654 \n           Unemployment.Rate               Inflation.Rate \n                         152                          194 \n```\n:::\n:::\n\n\n# The chosen format  was pivoted longer and the  unspecified data values(N/A values) in the dataset. The columns  and rows were remove from dataframe\n\n::: {.cell}\n\n```{.r .cell-code}\n#remove missing values\n#pivot longer of the federal fund rate columns, removed NA values\nclean_FedFundsRate <-pivot_longer(df, col = c(\"Federal.Funds.Target.Rate\" , \"Federal.Funds.Lower.Target\" , \"Effective.Federal.Funds.Rate\"),\n                 names_to=\"Federal Fund Type\",\n                 values_to = \"Federal Fund Rate\",\n                 values_drop_na = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#pivot longer of the federal fund rate columns, removed NA values. \n\nclean_FedFundsRate\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,317 × 9\n    Year Month   Day Federal.Funds.Upp…¹ Real.…² Unemp…³ Infla…⁴ Feder…⁵ Feder…⁶\n   <int> <int> <int>               <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>\n 1  1954     7     1                  NA     4.6     5.8      NA Effect…    0.8 \n 2  1954     8     1                  NA    NA       6        NA Effect…    1.22\n 3  1954     9     1                  NA    NA       6.1      NA Effect…    1.06\n 4  1954    10     1                  NA     8       5.7      NA Effect…    0.85\n 5  1954    11     1                  NA    NA       5.3      NA Effect…    0.83\n 6  1954    12     1                  NA    NA       5        NA Effect…    1.28\n 7  1955     1     1                  NA    11.9     4.9      NA Effect…    1.39\n 8  1955     2     1                  NA    NA       4.7      NA Effect…    1.29\n 9  1955     3     1                  NA    NA       4.6      NA Effect…    1.35\n10  1955     4     1                  NA     6.7     4.7      NA Effect…    1.43\n# … with 1,307 more rows, and abbreviated variable names\n#   ¹​Federal.Funds.Upper.Target, ²​Real.GDP..Percent.Change.,\n#   ³​Unemployment.Rate, ⁴​Inflation.Rate, ⁵​`Federal Fund Type`,\n#   ⁶​`Federal Fund Rate`\n```\n:::\n\n```{.r .cell-code}\nclean_FedFundsRate <-p<-pivot_longer(df, col = c(\"Real.GDP..Percent.Change.\", \"Unemployment.Rate\", \"Inflation.Rate\"),\n                 names_to=\"GDP Condition\",\n                 values_to = \"GDP Rate\",\n                 values_drop_na = TRUE)\n\nclean_FedFundsRate\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,712 × 9\n    Year Month   Day Federal.Funds.Tar…¹ Feder…² Feder…³ Effec…⁴ GDP C…⁵ GDP R…⁶\n   <int> <int> <int>               <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>\n 1  1954     7     1                  NA      NA      NA    0.8  Real.G…     4.6\n 2  1954     7     1                  NA      NA      NA    0.8  Unempl…     5.8\n 3  1954     8     1                  NA      NA      NA    1.22 Unempl…     6  \n 4  1954     9     1                  NA      NA      NA    1.06 Unempl…     6.1\n 5  1954    10     1                  NA      NA      NA    0.85 Real.G…     8  \n 6  1954    10     1                  NA      NA      NA    0.85 Unempl…     5.7\n 7  1954    11     1                  NA      NA      NA    0.83 Unempl…     5.3\n 8  1954    12     1                  NA      NA      NA    1.28 Unempl…     5  \n 9  1955     1     1                  NA      NA      NA    1.39 Real.G…    11.9\n10  1955     1     1                  NA      NA      NA    1.39 Unempl…     4.9\n# … with 1,702 more rows, and abbreviated variable names\n#   ¹​Federal.Funds.Target.Rate, ²​Federal.Funds.Upper.Target,\n#   ³​Federal.Funds.Lower.Target, ⁴​Effective.Federal.Funds.Rate,\n#   ⁵​`GDP Condition`, ⁶​`GDP Rate`\n```\n:::\n:::\n\n\n####Mutating Data\nAlso merge date with month, day and year into one easily readable “Date” column. \n\n::: {.cell}\n\n```{.r .cell-code}\n###margin month and date  variable names to make easier to reference in code\nclean_FedFundsRate <- mutate(clean_FedFundsRate, Date = make_date(Year, Month, Day))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nclean_FedFundsRate<-clean_FedFundsRate[complete.cases(clean_FedFundsRate$\"Inflation.Rate\"),]\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in complete.cases(clean_FedFundsRate$Inflation.Rate): no input has determined the number of cases\n```\n:::\n\n```{.r .cell-code}\nselect(clean_FedFundsRate,Date,\"Inflation.Rate\",\"Unemployment.Rate\",\"Federal Fund Rate\",\"Real.GDP..Percent.Change.\",\"Federal Fund Type\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `select()`:\n! Can't subset columns that don't exist.\n✖ Column `Inflation.Rate` doesn't exist.\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}