{
  "hash": "04338167f9ac2211f8ac3847d884d76e",
  "result": {
    "markdown": "---\ntitle: \"Challenge 6\"\nauthor: \"Connor Landreth\"\ndescription: \"Visualizing Time and Relationships\"\ndate: \"2023-04-03\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_6\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least one graph including time (evolution)\n\n-   try to make them \"publication\" ready (optional)\n-   Explain why you choose the specific graph type\n\n5)  Create at least one graph depicting part-whole or flow relationships\n\n-   try to make them \"publication\" ready (optional)\n-   Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   debt ⭐\n-   fed_rate ⭐⭐\n-   abc_poll ⭐⭐⭐\n-   usa_hh ⭐⭐⭐\n-   hotel_bookings ⭐⭐⭐⭐\n-   AB_NYC ⭐⭐⭐⭐⭐\n\npoll \\<- read.csv(\"abc_poll_2021.csv\")\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(poll)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in head(poll): object 'poll' not found\n```\n:::\n\n```{.r .cell-code}\nView(poll)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in as.data.frame(x): object 'poll' not found\n```\n:::\n:::\n\n\n### Briefly describe the data\n\n## Tidy Data (as needed)\n\nFirst off, below I will rename all the columns to actually be usable. Some of them such as ppmsacat aren't impossible to identify, but the layman would have no idea what that means. Additionally, at first glance, this data is 31 variables and 527 observations. I would be inclined to assume those behind the server seek to identify trends in political parties. (eg do republicans have less education? Do democrats have higher income?, Do independents live in the suburbs with big families or in cities alone?, etc..)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll <- poll %>% \n  rename(ID = 'id', Degree = 'ppeduc5', Primary_Language  = 'xspanish', Page = 'ppage', Education_Level = 'ppeducat', Gender = 'ppgender', Household_Size = 'pphhsize', Ethnicity = 'ppethm', Income = 'ppinc7', Marital_Status = 'ppmarit5', Metro_Stat_Area ='ppmsacat', Region = 'ppreg4', Rental_Status = 'pprent', State = 'ppstaten', Retired ='PPWORKA', Employment_Status = 'ppemploy', Complete_Status = 'complete_status', Political_Affiliation = 'QPID', Age = 'ABCAGE', Interview = 'Contact')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(., ID = \"id\", Degree = \"ppeduc5\", Primary_Language = \"xspanish\", : object 'poll' not found\n```\n:::\n\n```{.r .cell-code}\nView(Poll)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in as.data.frame(x): object 'Poll' not found\n```\n:::\n:::\n\n\nNext, I will remove some columns that won't be helpful for this analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll$Page <- NULL\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in Poll$Page <- NULL: object 'Poll' not found\n```\n:::\n\n```{.r .cell-code}\nPoll$ID <- NULL\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in Poll$ID <- NULL: object 'Poll' not found\n```\n:::\n\n```{.r .cell-code}\nPoll$Complete_Status <- NULL\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in Poll$Complete_Status <- NULL: object 'Poll' not found\n```\n:::\n\n```{.r .cell-code}\nPoll$weights_pid <- NULL\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in Poll$weights_pid <- NULL: object 'Poll' not found\n```\n:::\n\n```{.r .cell-code}\n# My analysis will look at the working class, so I will filter out any retired individuals\n\nPoll_re <- Poll %>% \n  select(Retired, Employment_Status, Education_Level, Income, Household_Size, Ethnicity, Metro_Stat_Area, Region, Political_Affiliation, Age) %>%\n  filter(Retired != 'Retired')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Retired, Employment_Status, Education_Level, Income, : object 'Poll' not found\n```\n:::\n\n```{.r .cell-code}\nView(Poll_re)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in as.data.frame(x): object 'Poll_re' not found\n```\n:::\n:::\n\n\nI want to look at the role education and employment status might play in political affiliation. I am going to hypothesize non-retired, unemployed individuals are less educated, but will explore this below and see where their political affiliation falls (Only democrat vs republican)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDemocrat_Income <- Poll_re[order(Poll_re$Political_Affiliation), ] %>% \n\n  select(Income, Political_Affiliation) %>% \n  filter(Political_Affiliation %in% c('A Democrat',\"A Republican\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Income, Political_Affiliation): object 'Poll_re' not found\n```\n:::\n\n```{.r .cell-code}\nView(Democrat_Income)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in as.data.frame(x): object 'Democrat_Income' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nDemocrat_Income %>% \n  ggplot(aes(x=Political_Affiliation)) +\n  geom_histogram(stat = \"count\") +\n  theme_economist() +\n  labs(title = \" Average Income by Political Affiliation\")+\n  ylab('Income') +\n  xlab('Political Affiliation')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(., aes(x = Political_Affiliation)): object 'Democrat_Income' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nn = nrow(poll)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in nrow(poll): object 'poll' not found\n```\n:::\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'Less than high school') %>% \n  count()/n\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n29 individuals (or 5.5%) have less than a high school degree\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Leveal, Political_Affiliation) %>% \n  filter(Education_Leveal == 'High school') %>% \n  count()/n\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Leveal, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n133 or 25.2% have a high school diploma. I'm interested in seeing what voting preference those with less traditional education have. One step further, we'll add in political affiliation to the above.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'Less than high school') %>% \n  filter(Political_Affiliation == 'An Independent') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'Less than high school') %>% \n  filter(Political_Affiliation == 'Skipped') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npoll %>% \n  select(ppeducat, QPID) %>% \n  filter(ppeducat == 'Less than high school') %>% \n  filter(QPID == 'A Democrat') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., ppeducat, QPID): object 'poll' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'Less than high school') %>% \n  filter(Political_Affiliation == 'A Republican') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\nThat actually surprises me that for such a small sample the numbers are dispersed about as I would have expected. I'll do the same thing for people with only a high school degree and see if their affiliation lines up with what I might expect. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'High school') %>% \n  filter(Political_Affiliation == 'An Independent') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'High school') %>% \n  filter(Political_Affiliation == 'Skipped') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'High school') %>% \n  filter(Political_Affiliation == 'A Republican') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nPoll %>% \n  select(Education_Level, Political_Affiliation) %>% \n  filter(Education_Level == 'High school') %>% \n  filter(Political_Affiliation == 'A Democrat') %>% \n\n  count()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., Education_Level, Political_Affiliation): object 'Poll' not found\n```\n:::\n:::\n\nAgain, honestly a shockingly clean dispersion. ~40 each for independent, republican, and democrat.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\nmycols <- c(\"lightpink\", \"lightblue\",\"lightyellow\", \"lightgreen\",\"orange\")\n\nbarplot(Poll$Political_Affiliation, names.arg = Poll$Political_Affiliation, ylab = \"Age\",\n\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: <text>:10:0: unexpected end of input\n8: \n9: \n  ^\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}