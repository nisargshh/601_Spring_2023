{
  "hash": "344181d866e6ac9f21fdfeed38ac4719",
  "result": {
    "markdown": "---\ntitle: \"Challenge 7: AirBnB Visualizations\"\nauthor: \"Teresa Lardo\"\ndescription: \"Visualizing Multiple Dimensions\"\ndate: \"04/17/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_7\n  - Teresa Lardo\n  - air_bnb\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(readr)\nlibrary(dplyr)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n\n## Read in data\n\nLet's read in the .csv for the AirBnB dataset for this challenge. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nAB_NYC_2019 <- read_csv(\"_data/AB_NYC_2019.csv\", show_col_types = FALSE)\n```\n:::\n\n\n### Briefly describe the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(AB_NYC_2019)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 48895    16\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(AB_NYC_2019)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 16\n     id name        host_id host_name neighbourhood_group neighbourhood latitude\n  <dbl> <chr>         <dbl> <chr>     <chr>               <chr>            <dbl>\n1  2539 Clean & qu…    2787 John      Brooklyn            Kensington        40.6\n2  2595 Skylit Mid…    2845 Jennifer  Manhattan           Midtown           40.8\n3  3647 THE VILLAG…    4632 Elisabeth Manhattan           Harlem            40.8\n4  3831 Cozy Entir…    4869 LisaRoxa… Brooklyn            Clinton Hill      40.7\n5  5022 Entire Apt…    7192 Laura     Manhattan           East Harlem       40.8\n6  5099 Large Cozy…    7322 Chris     Manhattan           Murray Hill       40.7\n# ℹ 9 more variables: longitude <dbl>, room_type <chr>, price <dbl>,\n#   minimum_nights <dbl>, number_of_reviews <dbl>, last_review <date>,\n#   reviews_per_month <dbl>, calculated_host_listings_count <dbl>,\n#   availability_365 <dbl>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(AB_NYC_2019)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"id\"                             \"name\"                          \n [3] \"host_id\"                        \"host_name\"                     \n [5] \"neighbourhood_group\"            \"neighbourhood\"                 \n [7] \"latitude\"                       \"longitude\"                     \n [9] \"room_type\"                      \"price\"                         \n[11] \"minimum_nights\"                 \"number_of_reviews\"             \n[13] \"last_review\"                    \"reviews_per_month\"             \n[15] \"calculated_host_listings_count\" \"availability_365\"              \n```\n:::\n\n```{.r .cell-code}\nunique(AB_NYC_2019$neighbourhood_group)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Brooklyn\"      \"Manhattan\"     \"Queens\"        \"Staten Island\"\n[5] \"Bronx\"        \n```\n:::\n\n```{.r .cell-code}\nunique(AB_NYC_2019$room_type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Private room\"    \"Entire home/apt\" \"Shared room\"    \n```\n:::\n:::\n\n\n\nThis data set describes almost 49,000 AirBNB listings in the New York City area during the year 2019. Each listing includes the following information: \n\n* Name & ID of the listing, \n* Host name & ID, as well as number of listings associated with that host, \n* Location information: neighborhood group (borough), specific neighborhood, latitude, longitude, \n* Type of room (i.e., private room, shared room, entire home), \n* Minimum length of stay in nights, price, and availability year-round, and\n* Number of reviews, reviews per month, and most recent review for that listing. \n\n## Exploratory visualizations\n\nBefore I create my multi-dimensional visualizations, I want to explore a few aspects of the data through one-dimensional visuals. I'm interested in seeing the relative number of AirBnB listings by borough. I will create a treemap to show the relative proportions of AirBnB offerings for each borough.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Package\nlibrary(treemapify)\nlibrary(RColorBrewer)\n# Plot\nggplot(AB_NYC_2019 %>%\n           count(neighbourhood_group),\n            aes(fill = neighbourhood_group,\n                area = n,\n                label = n)) +\n  geom_treemap() + \n  geom_treemap_text(colour = \"black\",\n                    place = \"centre\") +\n  labs(title = \"Total AirBnB Listings in NYC Boroughs\",\n       subtitle = \"Manhattan, Brooklyn lead in AirBnB listings in NYC\", \n       fill = \"Borough\") + \n  theme(legend.position = \"left\") +\n  scale_fill_brewer(palette = \"Set2\")\n```\n\n::: {.cell-output-display}\n![](TeresaLardo_Challenge7_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nThe treemap above shows that Staten Island has the least AirBnB listings in the 2019 data set by far. Manhattan and Brooklyn take the largest - and almost equal - number of listings. \n\nI also want to see the distribution of the 3 different room types. I will use another treemap, since I'm looking for a similar type of information. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(AB_NYC_2019 %>%\n           count(room_type),\n            aes(fill = room_type,\n                area = n,\n                label = n)) +\n  geom_treemap() + \n  geom_treemap_text(colour = \"white\",\n                    place = \"centre\") +\n  labs(title = \"Total NYC AirBnB Listings by Type\",\n       subtitle = \"Entire-Home Listings & private rooms rule NYC AirBnBs\", \n       fill = \"Room Type\") + \n  theme(legend.position = \"left\") +\n  scale_fill_brewer(palette = \"Dark2\")\n```\n\n::: {.cell-output-display}\n![](TeresaLardo_Challenge7_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nThis treemap shows how few Shared Room types of AirBnBs are represented in the 2019 NYC data. Entire-home AirBnBs are the most common type, but there are also many private rooms. \n\n## Visualization with Multiple Dimensions\n\n### Price By Room Type\n\nI'm curious about how the AirBnBs are generally priced by hosts who have different numbers of total listings. I'm also interested in distinguishing the different room types to see if certain types of rooms tend to be cheaper or more expensive overall. I will use a simple scatterplot where each listing is set to a particular color based on its room type. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(AB_NYC_2019, aes(x=calculated_host_listings_count, y=price)) +\n  geom_point(aes(color=room_type)) + \n  labs(\n    title = \"NYC AirBNB prices sky high even amongst humbler hosts\",\n    x = \"Number of Listings From Host\",\n    y = \"Price of AirBNB ($USD)\", \n    caption = \"Data from InsideAirbnb.com\",\n    color = \"Room Type\") +\n  scale_color_manual(values=c(\"navy\", \"deeppink\", \"green\")) \n```\n\n::: {.cell-output-display}\n![](TeresaLardo_Challenge7_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\nFrom this visualization, I can see that most of the listings in our set are run by hosts who have fewer than 50 total listings. Even among the listings from the humbler hosts who only offer a single room, the price can be very high. I can also see that Shared Rooms are less represented in the data set than the other two room types. \n\nI'd like to \"zoom in\" on this graph to focus on the listings for hosts with 50 or fewer AirBnB properties:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(AB_NYC_2019 %>% \n         filter(calculated_host_listings_count <= 50), aes(x=calculated_host_listings_count, y=price)) +\n  geom_point(aes(color=room_type)) + \n  labs(\n    title = \"Hosts with more properties offer lower-priced NYC AirBnBs\",\n    x = \"Number of Listings From Host\",\n    y = \"Price of AirBNB ($USD)\", \n    caption = \"Data from InsideAirbnb.com\",\n    color = \"Room Type\") +\n  scale_color_manual(values=c(\"navy\", \"deeppink\", \"green\")) \n```\n\n::: {.cell-output-display}\n![](TeresaLardo_Challenge7_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n### Reviews by Boroughs\n\nWhich borough and room type gets the most conversation on AirBnB? I will use a bar chart to separate our data first by borough and then separate the borough data into the 3 different room types. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(AB_NYC_2019, aes(fill=room_type, x=neighbourhood_group, y=number_of_reviews)) +\n  geom_bar(position=\"dodge\", stat = \"identity\") +\n  labs(\n    title = \"AirBnBs in Queens get the most reviews\",\n    x = \"NYC Borough\",\n    y = \"Number of Reviews\",\n    fill = \"Room Type\", \n    caption = \"Data from InsideAirbnb.com\"\n  ) \n```\n\n::: {.cell-output-display}\n![](TeresaLardo_Challenge7_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nThis visualization shows that, regardless of borough, private rooms tend to receive the most reviews. The only borough where private room reviews do not top the other room types is Brooklyn, where Entire Home-style AirBnBs just barely take the top spot of total reviews. Overall, private rooms in Queens garner the most reviews, with private rooms in Manhattan pulling in a close second. Shared rooms in Staten Island get the least reviews, which makes sense as Staten Island is the borough with the least AirBnB listings by far, and shared rooms are the least represented type of AirBnB offerings. \n\n\n",
    "supporting": [
      "TeresaLardo_Challenge7_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}