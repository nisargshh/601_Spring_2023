{
  "hash": "084f98921bc7da47a6ea186d3fd74241",
  "result": {
    "markdown": "---\ntitle: \"Final Project Assignment#1: Matt Eckstein\"\nauthor: \"Matt Eckstein\"\ndescription: \"Project & Data Description\"\ndate: \"04-09-2023\"\nformat:\n  html:\n    df-print: paged\n    toc: true\n    code-copy: true\n    code-tools: true\n    css: styles.css\ncategories:\n  - final_Project_assignment_1\n  - final_project_data_description\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n#| label: setup\n#| warning: false\n#| message: false\n\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.2 --\nv ggplot2 3.4.1     v purrr   1.0.1\nv tibble  3.1.8     v dplyr   1.1.0\nv tidyr   1.3.0     v stringr 1.5.0\nv readr   2.1.4     v forcats 1.0.0\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Part 1. Introduction {#describe-the-data-sets}\n\nIn this part, you should introduce the dataset(s) and your research questions.\n\n1.  Dataset(s) Introduction:\n    \n    \nThe main dataset comes from Partners in Flight, a set of databases published by the Bird Conservancy of the Rockies for tracking the estimated poulations of various bird species across various geographic regions.\n\nIn this dataset, a case is a species-state - a particular bird species as it occurs in a particular US state, among land birds in the lower 48 states and Alaska. (The dataset does not include Hawaii or the District of Columbia. It does include Canadian provinces and territories, though I will keep the focus of my analysis to the United States.)\n\nThe dataset provides several different population estimates for each species-state (main, upper and lower 80% and 95% bounds, median estimate, and unrounded estimate); I will use the main estimate that is simply titled Population Estimate.\n\nCitation for main dataset: Partners in Flight. 2020. Population Estimates Database, version 3.1. Available at http://pif.birdconservancy.org/PopEstimates. Accessed on April 9, 2023.\n\nCitation for dataset used for state population densities: \"United States by Density 2020.\" n.d. Worldpopulationreview.com. https://worldpopulationreview.com/state-rankings/state-densities.\n\n\n2.  What questions do you like to answer with this dataset(s)?\n\n\nI will use this dataset to compute the population density of bird species in the United States by state and compare it with states' human population densities, to answer the question of which bird species are associated positively with human population density and which negatively so. Although this would not in and of itself prove that development causes harm to bird populations, it could shed light on which bird species might benefit from further research to determine if they are being adversely affected by development in areas with dense human populations.\n\n## Part 2. Describe the data set(s) {#describe-the-data-sets-1}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nbirds <- read_xlsx(\"MattEckstein_FinalProjectData/PopEsts_ProvState_2021.02.05.xlsx\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: `path` does not exist: 'MattEckstein_FinalProjectData/PopEsts_ProvState_2021.02.05.xlsx'\n```\n:::\n\n```{.r .cell-code}\nstr(birds)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in str(birds): object 'birds' not found\n```\n:::\n\n```{.r .cell-code}\n#renaming State variable for compatibility with the state population density dataset \nbirds <- rename(birds, \"State\" = \"Province / State / Territory\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(birds, State = \"Province / State / Territory\"): object 'birds' not found\n```\n:::\n\n```{.r .cell-code}\n#dropping if the country is Canada, then removing the country variable\n\nbirds <- select(birds, -c(`Sequence AOS 60`, `Data Source`, `Pair Adjust Category`, `Estimated % of Global Population`, `Estimated % of USA/Canada Population`, `BBS Average (birds/rte)`, `BBS Routes`, `Species Routes`, `Detection Distance Category (m)`, `Pair Adjust Category`, `Time Adjust Mean`, `Time Adjust             SD`))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(birds, -c(`Sequence AOS 60`, `Data Source`, `Pair Adjust Category`, : object 'birds' not found\n```\n:::\n\n```{.r .cell-code}\nbirds <- subset(birds, Country != \"CAN\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in subset(birds, Country != \"CAN\"): object 'birds' not found\n```\n:::\n\n```{.r .cell-code}\nbirds <- select(birds, -c(Country))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(birds, -c(Country)): object 'birds' not found\n```\n:::\n\n```{.r .cell-code}\nstates <- read_csv(\"MattEckstein_FinalProjectData/State_statistics.csv\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: 'MattEckstein_FinalProjectData/State_statistics.csv' does not exist in current working directory ('C:/Users/Matt (/Documents/GitHub/601_Spring_2023/posts/MattEckstein_FinalProjectData').\n```\n:::\n\n```{.r .cell-code}\n#dropping variables that are unlikely to be useful for analysis, for the sake of neatness\nstates <- select(states, -c(pop2022, pop2020, pop2019, pop2010, growthRate, growth, growthSince2010, fips))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(states, -c(pop2022, pop2020, pop2019, pop2010, growthRate, : object 'states' not found\n```\n:::\n\n```{.r .cell-code}\n#replacing state names with abbreviations, for compatibility between the two starting datasets\n\nstates[states == 'New Jersey'] <- 'NJ'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"New Jersey\"] <- \"NJ\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Rhode Island'] <- 'RI'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Rhode Island\"] <- \"RI\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Massachusetts'] <- 'MA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Massachusetts\"] <- \"MA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Connecticut'] <- 'CT'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Connecticut\"] <- \"CT\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Maryland'] <- 'MD'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Maryland\"] <- \"MD\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Delaware'] <- 'DE'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Delaware\"] <- \"DE\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Florida'] <- 'FL'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Florida\"] <- \"FL\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'New York'] <- 'NY'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"New York\"] <- \"NY\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Pennsylvania'] <- 'PA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Pennsylvania\"] <- \"PA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Ohio'] <- 'OH'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Ohio\"] <- \"OH\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'California'] <- 'CA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"California\"] <- \"CA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Illinois'] <- 'IL'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Illinois\"] <- \"IL\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Hawaii'] <- 'HI'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Hawaii\"] <- \"HI\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'North Carolina'] <- 'NC'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"North Carolina\"] <- \"NC\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Virginia'] <- 'VA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Virginia\"] <- \"VA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Georgia'] <- 'GA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Georgia\"] <- \"GA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Indiana'] <- 'IN'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Indiana\"] <- \"IN\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'South Carolina'] <- 'SC'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"South Carolina\"] <- \"SC\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Michigan'] <- 'MI'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Michigan\"] <- \"MI\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Tennessee'] <- 'TN'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Tennessee\"] <- \"TN\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'New Hampshire'] <- 'NH'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"New Hampshire\"] <- \"NH\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Washington'] <- 'WA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Washington\"] <- \"WA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Texas'] <- 'TX'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Texas\"] <- \"TX\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Kentucky'] <- 'KY'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Kentucky\"] <- \"KY\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Wisconsin'] <- 'WI'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Wisconsin\"] <- \"WI\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Louisiana'] <- 'LA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Louisiana\"] <- \"LA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Alabama'] <- 'AL'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Alabama\"] <- \"AL\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Missouri'] <- 'MO'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Missouri\"] <- \"MO\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'West Virginia'] <- 'WV'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"West Virginia\"] <- \"WV\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Minnesota'] <- 'MN'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Minnesota\"] <- \"MN\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Vermont'] <- 'VT'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Vermont\"] <- \"VT\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Arizona'] <- 'AZ'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Arizona\"] <- \"AZ\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Mississippi'] <- 'MS'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Mississippi\"] <- \"MS\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Oklahoma'] <- 'OK'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Oklahoma\"] <- \"OK\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Arkansas'] <- 'AR'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Arkansas\"] <- \"AR\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Iowa'] <- 'IA'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Iowa\"] <- \"IA\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Colorado'] <- 'CO'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Colorado\"] <- \"CO\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Maine'] <- 'ME'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Maine\"] <- \"ME\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Oregon'] <- 'OR'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Oregon\"] <- \"OR\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Utah'] <- 'UT'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Utah\"] <- \"UT\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Kansas'] <- 'KS'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Kansas\"] <- \"KS\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Nevada'] <- 'NV'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Nevada\"] <- \"NV\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Nebraska'] <- 'NE'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Nebraska\"] <- \"NE\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Idaho'] <- 'ID'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Idaho\"] <- \"ID\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'New Mexico'] <- 'NM'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"New Mexico\"] <- \"NM\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'South Dakota'] <- 'SD'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"South Dakota\"] <- \"SD\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'North Dakota'] <- 'ND'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"North Dakota\"] <- \"ND\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Montana'] <- 'MT'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Montana\"] <- \"MT\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Wyoming'] <- 'WY'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Wyoming\"] <- \"WY\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nstates[states == 'Alaska'] <- 'AK'\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in states[states == \"Alaska\"] <- \"AK\": object 'states' not found\n```\n:::\n\n```{.r .cell-code}\n#combining datasets into one\nstates <- rename(states, \"State\" = \"state\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(states, State = \"state\"): object 'states' not found\n```\n:::\n\n```{.r .cell-code}\nalldata <- merge(birds, states, by = \"State\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in merge(birds, states, by = \"State\"): object 'birds' not found\n```\n:::\n:::\n\n\n\n2.  present the descriptive information of the dataset(s) using the functions in Challenges 1, 2, and 3;\n\nThe overall dataset has 7,030 observations of 31 variables.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    dim(alldata)\n    ```\n    \n    ::: {.cell-output .cell-output-error}\n    ```\n    Error in eval(expr, envir, enclos): object 'alldata' not found\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    head(alldata)\n    ```\n    \n    ::: {.cell-output .cell-output-error}\n    ```\n    Error in head(alldata): object 'alldata' not found\n    ```\n    :::\n    :::\n\n\n3.  conduct summary statistics of the dataset(s); especially show the basic statistics (min, max, mean, median, etc.) for the variables you are interested in.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(vtable)\n\nalldata %>%\n  sumtable(\"Population Estimate\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(x): object 'alldata' not found\n```\n:::\n\n```{.r .cell-code}\nalldata %>%\n  sumtable(\"Total Area\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(x): object 'alldata' not found\n```\n:::\n\n```{.r .cell-code}\nalldata %>%\n  sumtable(\"densityMi\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(x): object 'alldata' not found\n```\n:::\n:::\n\n\n\n\nIn the PIF bird populations by state dataset, each row represents a bird species as it occurs in a given US state (except Hawaii) or Canadian province/territory. This analysis focuses on US data, so the Canadian data have been dropped. There are 7,030 observations of species-state, with 27 variables about each species-state collected. The variables most relevant to this analysis, which will examine bird species' population density in each state, are the bird's English Name, its State, and its Population Estimate. A median population estimate and an unrounded population estimate, as well as upper and lower 80% and 95% population estimates for each species, are also given, although as of now I am likely to stick with basing my analysis on the main Population Estimate for each species.\n\nIn the state statistics dataset, each row represents a state. There are 50 observations, with each case being a US state. The various columns include ones representing the state's name, its population density, its population in 2023 and various recent past years, its population growth rate, and its total land area. For this analysis, I kept only four columns: state name (converted to an abbreviation), population density, 2023 population, and total area.\n\nThe overall combined dataset contains 7,030 observations of 30 variables - all of the variables from the birds dataset, and the four variables retained from the state statistics dataset. (Ultimately, there are likely to be fewer variables as I drop some of the less relevant variables from the birds dataset). Additionally, I will use the information in the Population Estimate and TotalArea columns to create a new column containing the population density of each bird species in each state.\n\n## 3. The Tentative Plan for Visualization {#the-tentative-plan-for-visualization}\n\n1.  Briefly describe what data analyses (**please the special note on statistics in the next section)** and visualizations you plan to conduct to answer the research questions you proposed above.\n\nI plan to divide the Population Estimate column by the TotalArea column to compute the population density for each bird species in each state. Then, I will create a line graph for each species with state on the horizontal axis and population density on the vertical axis; with human population density as another line for easy comparison on the same graph.\n\n2.  Explain why you choose to conduct these specific data analyses and visualizations. In other words, how do such types of statistics or graphs (see [the R Gallery](https://r-graph-gallery.com/)) help you answer specific questions? For example, how can a bivariate visualization reveal the relationship between two variables, or how does a linear graph of variables over time present the pattern of development?\n\nGraphing bird species' population densities in eah state against human population density in the same state will let it be readily seen how the population density of each species is related to that of humanity, state by state. Although it can't prove causality, it can provide some evidence of which species are thriving in areas highly settled by humanity and which are suffering in similar areas.\n\n3.  If you plan to conduct specific data analyses and visualizations, describe how do you need to process and prepare the tidy data.\n\n    -   What do you need to do to mutate the datasets (convert date data, create a new variable, pivot the data format, etc.)?\n    \nThe main necessities are to decide on an approach for handling NA values of population for certain species-states and to calculate the new column of species population densities.\n\n    -   How are you going to deal with the missing data/NAs and outliers? And why do you choose this way to deal with NAs?\n    \nFor the time being, I lean in favor of dropping the species-state cases where the Population Estimate is NA. There are only 38 species with missing Population Estimates (out of 404 in the database), and they are generally all birds whose populations one would not expect to be large enough to be reliably estimated or to substantially affect the overall analysis (fowl, certain birds of prey, endangered species, and predominantly Canadian or Mexican species whose breeding ranges only slightly extend into the United States). If I perform this drop, I will give my results the caveat that they are not applicable to fowl, birds of prey, and waterfowl (which are not included in the dataset in the first place). There is no apparent way to fill in the missing data, at least from sources that would be methodologically consistent with and comparable to the PIF database. The reason I am somewhat hesitant about this approach is that the low-population species that would be excluded are potentially some of the most relevant for conservation purposes.\n\n4.  (Optional) It is encouraged, **but optional**, to include a coding component of tidy data in this part.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#I may update this component to include my approach for dropping NAs when I have settled on it\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}