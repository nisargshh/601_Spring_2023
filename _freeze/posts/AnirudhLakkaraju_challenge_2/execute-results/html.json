{
  "hash": "59fa28991d820592e14effcbe7512403",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Anirudh Lakkaraju\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"04/30/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - Anirudh Lakkaraju\n  - birds.csv\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to\n\n1)  read in a data set, and describe the data using both words and any supporting information (e.g., tables, etc)\n2)  provide summary statistics for different interesting groups within the data, and interpret those statistics\n\n## Read in the Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n-   railroad\\*.csv or StateCounty2012.xls ⭐\n-   FAOstat\\*.csv or birds.csv ⭐⭐⭐\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"_data/birds.csv\")\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30,977 × 14\n   `Domain Code` Domain     `Area Code` Area  `Element Code` Element `Item Code`\n   <chr>         <chr>            <dbl> <chr>          <dbl> <chr>         <dbl>\n 1 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 2 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 3 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 4 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 5 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 6 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 7 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 8 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n 9 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n10 QA            Live Anim…           2 Afgh…           5112 Stocks         1057\n# ℹ 30,967 more rows\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  `Domain Code` Domain      `Area Code` Area  `Element Code` Element `Item Code`\n  <chr>         <chr>             <dbl> <chr>          <dbl> <chr>         <dbl>\n1 QA            Live Anima…           2 Afgh…           5112 Stocks         1057\n2 QA            Live Anima…           2 Afgh…           5112 Stocks         1057\n3 QA            Live Anima…           2 Afgh…           5112 Stocks         1057\n4 QA            Live Anima…           2 Afgh…           5112 Stocks         1057\n5 QA            Live Anima…           2 Afgh…           5112 Stocks         1057\n6 QA            Live Anima…           2 Afgh…           5112 Stocks         1057\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntail(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  `Domain Code` Domain      `Area Code` Area  `Element Code` Element `Item Code`\n  <chr>         <chr>             <dbl> <chr>          <dbl> <chr>         <dbl>\n1 QA            Live Anima…        5504 Poly…           5112 Stocks         1068\n2 QA            Live Anima…        5504 Poly…           5112 Stocks         1068\n3 QA            Live Anima…        5504 Poly…           5112 Stocks         1068\n4 QA            Live Anima…        5504 Poly…           5112 Stocks         1068\n5 QA            Live Anima…        5504 Poly…           5112 Stocks         1068\n6 QA            Live Anima…        5504 Poly…           5112 Stocks         1068\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 30977\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Domain Code           Domain            Area Code        Area          \n Length:30977       Length:30977       Min.   :   1   Length:30977      \n Class :character   Class :character   1st Qu.:  79   Class :character  \n Mode  :character   Mode  :character   Median : 156   Mode  :character  \n                                       Mean   :1202                     \n                                       3rd Qu.: 231                     \n                                       Max.   :5504                     \n                                                                        \n  Element Code    Element            Item Code        Item          \n Min.   :5112   Length:30977       Min.   :1057   Length:30977      \n 1st Qu.:5112   Class :character   1st Qu.:1057   Class :character  \n Median :5112   Mode  :character   Median :1068   Mode  :character  \n Mean   :5112                      Mean   :1066                     \n 3rd Qu.:5112                      3rd Qu.:1072                     \n Max.   :5112                      Max.   :1083                     \n                                                                    \n   Year Code         Year          Unit               Value         \n Min.   :1961   Min.   :1961   Length:30977       Min.   :       0  \n 1st Qu.:1976   1st Qu.:1976   Class :character   1st Qu.:     171  \n Median :1992   Median :1992   Mode  :character   Median :    1800  \n Mean   :1991   Mean   :1991                      Mean   :   99411  \n 3rd Qu.:2005   3rd Qu.:2005                      3rd Qu.:   15404  \n Max.   :2018   Max.   :2018                      Max.   :23707134  \n                                                  NA's   :1036      \n     Flag           Flag Description  \n Length:30977       Length:30977      \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n                                      \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspc_tbl_ [30,977 × 14] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Domain Code     : chr [1:30977] \"QA\" \"QA\" \"QA\" \"QA\" ...\n $ Domain          : chr [1:30977] \"Live Animals\" \"Live Animals\" \"Live Animals\" \"Live Animals\" ...\n $ Area Code       : num [1:30977] 2 2 2 2 2 2 2 2 2 2 ...\n $ Area            : chr [1:30977] \"Afghanistan\" \"Afghanistan\" \"Afghanistan\" \"Afghanistan\" ...\n $ Element Code    : num [1:30977] 5112 5112 5112 5112 5112 ...\n $ Element         : chr [1:30977] \"Stocks\" \"Stocks\" \"Stocks\" \"Stocks\" ...\n $ Item Code       : num [1:30977] 1057 1057 1057 1057 1057 ...\n $ Item            : chr [1:30977] \"Chickens\" \"Chickens\" \"Chickens\" \"Chickens\" ...\n $ Year Code       : num [1:30977] 1961 1962 1963 1964 1965 ...\n $ Year            : num [1:30977] 1961 1962 1963 1964 1965 ...\n $ Unit            : chr [1:30977] \"1000 Head\" \"1000 Head\" \"1000 Head\" \"1000 Head\" ...\n $ Value           : num [1:30977] 4700 4900 5000 5300 5500 5800 6600 6290 6300 6000 ...\n $ Flag            : chr [1:30977] \"F\" \"F\" \"F\" \"F\" ...\n $ Flag Description: chr [1:30977] \"FAO estimate\" \"FAO estimate\" \"FAO estimate\" \"FAO estimate\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   `Domain Code` = col_character(),\n  ..   Domain = col_character(),\n  ..   `Area Code` = col_double(),\n  ..   Area = col_character(),\n  ..   `Element Code` = col_double(),\n  ..   Element = col_character(),\n  ..   `Item Code` = col_double(),\n  ..   Item = col_character(),\n  ..   `Year Code` = col_double(),\n  ..   Year = col_double(),\n  ..   Unit = col_character(),\n  ..   Value = col_double(),\n  ..   Flag = col_character(),\n  ..   `Flag Description` = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n```\n:::\n:::\n\n\n### Cleaning the data\n\nWe clean all variables with the word \\\"code\\\" in the name as these variables are only unique identifiers for other variables.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_cleaned<-df%>%select(-c(contains(\"Code\")))\nhead(df_cleaned)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 9\n  Domain       Area     Element Item   Year Unit  Value Flag  `Flag Description`\n  <chr>        <chr>    <chr>   <chr> <dbl> <chr> <dbl> <chr> <chr>             \n1 Live Animals Afghani… Stocks  Chic…  1961 1000…  4700 F     FAO estimate      \n2 Live Animals Afghani… Stocks  Chic…  1962 1000…  4900 F     FAO estimate      \n3 Live Animals Afghani… Stocks  Chic…  1963 1000…  5000 F     FAO estimate      \n4 Live Animals Afghani… Stocks  Chic…  1964 1000…  5300 F     FAO estimate      \n5 Live Animals Afghani… Stocks  Chic…  1965 1000…  5500 F     FAO estimate      \n6 Live Animals Afghani… Stocks  Chic…  1966 1000…  5800 F     FAO estimate      \n```\n:::\n:::\n\n\n## Describe the data\n\nWe now try to describe the data and further filter the data if the necessary.\n\nWe first find the number of unique values in each variable\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Domain))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Area))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 248\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Element))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Item))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Year))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 58\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Unit))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Value))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 11496\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$Flag))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 6\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(df_cleaned$`Flag Description`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 6\n```\n:::\n:::\n\n\nAs we can see that Domain, Element and Unit have only 1 unique value, they can also be dropped\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_cleaned<-df_cleaned%>%select(-c(Domain, Element, Unit))\nunique(df_cleaned$Item)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Chickens\"               \"Ducks\"                  \"Geese and guinea fowls\"\n[4] \"Turkeys\"                \"Pigeons, other birds\"  \n```\n:::\n:::\n\n\n## Provide Grouped Summary Statistics\n\nConduct some exploratory data analysis, using dplyr commands such as `group_by()`, `select()`, `filter()`, and `summarise()`. Find the central tendency (mean, median, mode) and dispersion (standard deviation, mix/max/quantile) for different subgroups within the data set.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_cleaned %>%\n  group_by(Item)%>%\n  summarise(avg_stocks = mean(Value, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 2\n  Item                   avg_stocks\n  <chr>                       <dbl>\n1 Chickens                  207931.\n2 Ducks                      23072.\n3 Geese and guinea fowls     10292.\n4 Pigeons, other birds        6163.\n5 Turkeys                    15228.\n```\n:::\n:::\n\n\n### Explain and Interpret\n\nWe try to understand the sizes of the five livestock in the datset and which countries have how much poultry during the given time frame. By grouping in the following way, it can be seen that the countries have a lot more chicken as livestock compared to the other poultry.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_cleaned %>%\n  group_by(Area)%>%\n  summarize(avg_stocks = mean(Value, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 248 × 2\n   Area                avg_stocks\n   <chr>                    <dbl>\n 1 Afghanistan             8099. \n 2 Africa                196561. \n 3 Albania                 2278. \n 4 Algeria                17621. \n 5 American Samoa            41.4\n 6 Americas              856356. \n 7 Angola                  9453. \n 8 Antigua and Barbuda       93.6\n 9 Argentina              18844. \n10 Armenia                 2062. \n# ℹ 238 more rows\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}