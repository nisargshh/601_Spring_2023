{
  "hash": "7c82af4dfd238b9340d20acd6a5b3e33",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2 Instructions\"\nauthor: \"Kevin Martell Luya\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"08/16/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - faostat\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to\n\n1)  read in a data set, and describe the data using both words and any supporting information (e.g., tables, etc)\n2)  provide summary statistics for different interesting groups within the data, and interpret those statistics\n\n## Read in the Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n-   railroad\\*.csv or StateCounty2012.xls ⭐\n-   FAOstat\\*.csv or birds.csv ⭐⭐⭐\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nrailroad <- read_excel(\n  \"./_data/StateCounty2012.xls\",\n  skip = 4,\n  col_names = c( \"STATE\",\"_trash\",\"COUNTY\",\"_trash\",\"TOTAL\")) \n  \n# deleting trash columns with no values\nrailroad <- select(railroad, !contains(\"_trash\"))\n\n# removing table notes\nrailroad <- head(railroad, -4)\n\n# Deleting the total count rows per state\nrailroad <- filter(railroad, !str_detect(STATE, \"Total\"))\n\n# setting state Canada as county canada\nrailroad <- mutate(railroad,COUNTY = ifelse( STATE == \"CANADA\", \"CANADA\", COUNTY))\n\n# railroad <-\nhead(railroad)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  STATE COUNTY               TOTAL\n  <chr> <chr>                <dbl>\n1 AE    APO                      2\n2 AK    ANCHORAGE                7\n3 AK    FAIRBANKS NORTH STAR     2\n4 AK    JUNEAU                   3\n5 AK    MATANUSKA-SUSITNA        2\n6 AK    SITKA                    1\n```\n:::\n\n```{.r .cell-code}\ntail(railroad)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  STATE  COUNTY     TOTAL\n  <chr>  <chr>      <dbl>\n1 WY     SUBLETTE       3\n2 WY     SWEETWATER   196\n3 WY     UINTA         49\n4 WY     WASHAKIE      10\n5 WY     WESTON        37\n6 CANADA CANADA       662\n```\n:::\n:::\n\n\nAdd any comments or documentation as needed. More challenging data may require additional code chunks and documentation.\n\n## Describe the data\n\nUsing a combination of words and results of R commands, can you provide a high level description of the data? Describe as efficiently as possible where/how the data was (likely) gathered, indicate the cases and variables (both the interpretation and any details you deem useful to the reader to fully understand your chosen data).\n\n# Let's show a brief summary of railroad dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(railroad)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    STATE              COUNTY              TOTAL        \n Length:2931        Length:2931        Min.   :   1.00  \n Class :character   Class :character   1st Qu.:   7.00  \n Mode  :character   Mode  :character   Median :  21.00  \n                                       Mean   :  87.37  \n                                       3rd Qu.:  65.00  \n                                       Max.   :8207.00  \n```\n:::\n:::\n\nNotice that summary is that helpful in term of having general idea of this dataset.\nLet's dive into the columns of this data set.\n\n## Provide Grouped Summary Statistics\n\nConduct some exploratory data analysis, using dplyr commands such as `group_by()`, `select()`, `filter()`, and `summarise()`. Find the central tendency (mean, median, mode) and dispersion (standard deviation, mix/max/quantile) for different subgroups within the data set.\n\nLet's count the number of different states and counties usign summary, and across in-built functions.\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad %>%\n  summarise(across(c(STATE,COUNTY), n_distinct))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  STATE COUNTY\n  <int>  <int>\n1    54   1710\n```\n:::\n:::\n\n\nThe information is getting to started to make more sense than the provious summary. There are 53 different states plus Canada(as state), in total 54 states; however, the number of counties might be duplicated. Let's group the data by states and see the number of counties and total employees.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrouped_by_state <- railroad%>%\n  group_by(STATE)%>%\n  summarise(\"num_employees\" = sum(TOTAL),\n            \"total_counties\"= n())%>%\n  arrange(desc(num_employees))\ngrouped_by_state\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 54 × 3\n   STATE num_employees total_counties\n   <chr>         <dbl>          <int>\n 1 TX            19839            221\n 2 IL            19131            103\n 3 NY            17050             61\n 4 NE            13176             89\n 5 CA            13137             55\n 6 PA            12769             65\n 7 OH             9056             88\n 8 GA             8605            152\n 9 IN             8537             92\n10 MO             8419            115\n# … with 44 more rows\n```\n:::\n:::\n\nNow let's check the counties that has the highest number of employees, using simple division criterion:\nthe number of total employees per state divided by its total number of counties.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrouped_by_state%>%\n  group_by(STATE)%>%\n  summarise(\"num_of_employees_per_county\" = num_employees/total_counties)%>%\n  arrange(desc(num_of_employees_per_county))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 54 × 2\n   STATE  num_of_employees_per_county\n   <chr>                        <dbl>\n 1 CANADA                        662 \n 2 DE                            498.\n 3 NJ                            397.\n 4 CT                            324 \n 5 MA                            282.\n 6 NY                            280.\n 7 DC                            279 \n 8 CA                            239.\n 9 AZ                            210.\n10 PA                            196.\n# … with 44 more rows\n```\n:::\n:::\n\n\n### Explain and Interpret\n\nBe sure to explain why you choose a specific group. Comment on the interpretation of any interesting differences between groups that you uncover. This section can be integrated with the exploratory data analysis, just be sure it is included.\n\nWe see Canada as the state that has the county with the highest number of railroad employees. However, this conclusion is a bit off. To conclude this, we assumed the following: each state county is comparable to each other in terms of area (square kilometers), where the number of railroad employees is distributed evenly along the county. Because we defined Canada as a one-county state when doing data wrangling, its num_of_employees_per_county value is the highest: the entire state is the county. \n\nWe see in the second place IL state. In this case, the num_of_employees_per_county is close to Canada, which has 103 counties. The division criterion makes more sense for this case since the number of employees is less concentrated than in Canada with one estate.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}