{
  "hash": "0e533984a7b2b444c099ddf9f01370ae",
  "result": {
    "markdown": "---\ntitle: \"Challenge 6\"\nauthor: \"Thrishul\"\ndesription: \"Visualizing Time and Relationships\"\ndate: \"04/05/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_6\n  - fed rates\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0     ✔ purrr   1.0.1\n✔ tibble  3.1.8     ✔ dplyr   1.1.0\n✔ tidyr   1.3.0     ✔ stringr 1.5.0\n✔ readr   2.1.4     ✔ forcats 1.0.0\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(readxl)\nlibrary(lubridate)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'lubridate'\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'here' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nhere() starts at C:/Users/polat/OneDrive/Documents/GitHub/dacssqa/601_Spring_2023\n```\n:::\n\n```{.r .cell-code}\nsource(here(\"posts\",\"umass_colors.R\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in file(filename, \"r\", encoding = encoding): cannot open file\n'C:/Users/polat/OneDrive/Documents/GitHub/dacssqa/601_Spring_2023/posts/umass_colors.R':\nNo such file or directory\n```\n:::\n\n::: {.cell-output .cell-output-error}\n```\nError in file(filename, \"r\", encoding = encoding): cannot open the connection\n```\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n# Challenge Overview\n\nToday’s challenge is to:\n\ncreate at least one graph including time (evolution)\ntry to make them “publication” ready (optional)\nExplain why you choose the specific graph type\nCreate at least one graph depicting part-whole or flow relationships\ntry to make them “publication” ready (optional)\nExplain why you choose the specific graph type\n\n\n## Dataset Description\nThe dataset spans from July 1954 to March 2017 and comprises daily macroeconomic indicators associated with the effective federal funds rate. This rate refers to the interest rate at which banks lend money to each other to fulfill mandated reserve requirements. In addition to the date column, the dataset contains seven variables, four of which pertain to the federal funds rate (target, upper target, lower target, and effective). The remaining three variables represent macroeconomic indicators such as inflation, GDP change, and unemployment rate.\n\n::: {.cell}\n\n```{.r .cell-code}\nfed_rates_vars<-here(\"posts\",\"_data\",\"FedFundsRate.csv\") %>% \n  read_csv(n_max = 1,\n           col_names = NULL)%>%\n  select(-c(X1:X3))%>%\n  unlist(.)\n\nnames(fed_rates_vars) <-c(\"fed_target\", \"fed_target_upper\",\n                         \"fed_target_lower\", \"fed_effective\",\n                         \"gdp_ch\", \"unemploy\", \"inflation\")\n      \nfed_rates_orig<-here(\"posts\",\"_data\",\"FedFundsRate.csv\") %>% \n  read_csv(skip=1,\n           col_names = c(\"Year\", \"Month\", \"Day\", \n                         names(fed_rates_vars)))\n\nfed_rates<-fed_rates_orig%>%\n  mutate(date = make_date(Year, Month, Day))%>%\n  select(-c(Year, Month, Day))\n\nfed_rates <- fed_rates%>%\n  pivot_longer(cols=-date, \n               names_to = \"variable\",\n               values_to = \"value\")\n```\n:::\n\n\nNext, we aimed to visualize the evolution of the macroeconomic indicators and federal funds rate over time, while carefully handling the issue of missing data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfed_rates%>%\n  filter(str_starts(variable, \"fed\"))%>%\nggplot(., aes(x=date, y=value, color=variable))+\n  geom_point(size=0)+\n  geom_line()+\n  scale_y_continuous(labels = scales::label_percent(scale = 1))\n```\n\n::: {.cell-output-display}\n![](Thrishul_challenge6_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nBy analyzing the plotted data, it becomes apparent how closely the effective rate follows the target rate, and how the Federal Reserve adjusted its approach to target rate setting in response to the 2009 financial crisis. To gain additional insights, we explored the relationship between the effective rate and one of the other macroeconomic indicators.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfed_rates%>%\n  filter(variable%in%c(\"fed_effective\", \"gdp_ch\", \n                       \"unemploy\", \"inflation\"))%>%\nggplot(., aes(x=date, y=value, color=variable))+\n  geom_point(size=0)+\n  geom_line()+\n  facet_grid(rows = vars(variable))\n```\n\n::: {.cell-output-display}\n![](Thrishul_challenge6_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nyear_unemploy <- fed_rates %>%\n  pivot_wider(names_from = variable, values_from = value) %>%\n  mutate(year=year(date)) %>%\n  group_by(year) %>%\n  summarise(median_rate=median(unemploy)/100) %>%\n  ungroup()\nyear_unemploy\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 64 × 2\n    year median_rate\n   <dbl>       <dbl>\n 1  1954      0.0575\n 2  1955      0.0425\n 3  1956      0.0415\n 4  1957      0.042 \n 5  1958      0.069 \n 6  1959      0.054 \n 7  1960      0.0545\n 8  1961      0.068 \n 9  1962      0.0555\n10  1963      0.0565\n# … with 54 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nyear_unemploy %>%\n  ggplot(aes(year,median_rate))+\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](Thrishul_challenge6_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nyear_unemploy %>%\n  filter(year<=1981) %>%\n  ggplot(aes(year,median_rate))+\n  geom_line()+\n  scale_y_continuous(labels=scales::percent_format(),limits=c(0,.1))+\n  scale_x_continuous(breaks=seq(1955,1980,5))\n```\n\n::: {.cell-output-display}\n![](Thrishul_challenge6_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n  labs(x=\"year\",y=\"median unemployment rate\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$x\n[1] \"year\"\n\n$y\n[1] \"median unemployment rate\"\n\nattr(,\"class\")\n[1] \"labels\"\n```\n:::\n:::",
    "supporting": [
      "Thrishul_challenge6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}