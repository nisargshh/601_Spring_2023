{
  "hash": "0e1a702a46b5553f9fd57c6b8ff9c49f",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Sai Pranav Kurly\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"03/31/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - faostat\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in the Data\n\nI have decided to use Railroads dataset. The Railroads dataset includes separate observations of total employee counts by county within US states/principalities. First, we read the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad <-read_csv(\"_data/railroad_2012_clean_county.csv\")\nprint(railroad)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,930 × 3\n   state county               total_employees\n   <chr> <chr>                          <dbl>\n 1 AE    APO                                2\n 2 AK    ANCHORAGE                          7\n 3 AK    FAIRBANKS NORTH STAR               2\n 4 AK    JUNEAU                             3\n 5 AK    MATANUSKA-SUSITNA                  2\n 6 AK    SITKA                              1\n 7 AK    SKAGWAY MUNICIPALITY              88\n 8 AL    AUTAUGA                          102\n 9 AL    BALDWIN                          143\n10 AL    BARBOUR                            1\n# … with 2,920 more rows\n```\n:::\n:::\n\n\n## Describe the data\n\nWe see that the total number employees:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(railroad,sum(`total_employees`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  `sum(total_employees)`\n                   <dbl>\n1                 255432\n```\n:::\n:::\n\n\nWe see that the mean number employees by county:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(railroad,mean(`total_employees`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  `mean(total_employees)`\n                    <dbl>\n1                    87.2\n```\n:::\n:::\n\n\nWe see that the median number employees by county:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(railroad,median(`total_employees`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  `median(total_employees)`\n                      <dbl>\n1                        21\n```\n:::\n:::\n\n\nWe see that the min number employees by county:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(railroad,min(`total_employees`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  `min(total_employees)`\n                   <dbl>\n1                      1\n```\n:::\n:::\n\n\nWe see that the max number employees by county:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(railroad,max(`total_employees`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  `max(total_employees)`\n                   <dbl>\n1                   8207\n```\n:::\n:::\n\n\nWe see that the max number employees by county:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(railroad,max(`total_employees`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  `max(total_employees)`\n                   <dbl>\n1                   8207\n```\n:::\n:::\n\n\nWe could also summarize everything in one go and have some extra statistics like quantile using the summarry command\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(railroad)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    state              county          total_employees  \n Length:2930        Length:2930        Min.   :   1.00  \n Class :character   Class :character   1st Qu.:   7.00  \n Mode  :character   Mode  :character   Median :  21.00  \n                                       Mean   :  87.18  \n                                       3rd Qu.:  65.00  \n                                       Max.   :8207.00  \n```\n:::\n:::\n\n\n\n## Provide Grouped Summary Statistics\n\nThe group by function comes in handy since we can actually find some information based on state. \n\nWe can find the number of employees in the state. We see that Texas has the largest number.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad %>%\n  group_by(state) %>%\n  select(total_employees) %>%\n  summarize_all(sum, na.rm = TRUE) %>%\n  arrange(desc(total_employees))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 53 × 2\n   state total_employees\n   <chr>           <dbl>\n 1 TX              19839\n 2 IL              19131\n 3 NY              17050\n 4 NE              13176\n 5 CA              13137\n 6 PA              12769\n 7 OH               9056\n 8 GA               8605\n 9 IN               8537\n10 MO               8419\n# … with 43 more rows\n```\n:::\n:::\n\n\nWe can also find the mean of the employees per state based on the counties:\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad%>%\n  group_by(state)%>%\n  select (`total_employees`)%>%\n  summarize_all(mean, na.rm=TRUE) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 53 × 2\n   state total_employees\n   <chr>           <dbl>\n 1 AE                2  \n 2 AK               17.2\n 3 AL               63.5\n 4 AP                1  \n 5 AR               53.8\n 6 AZ              210. \n 7 CA              239. \n 8 CO               64.0\n 9 CT              324  \n10 DC              279  \n# … with 43 more rows\n```\n:::\n:::\n\n\nWe also find the max number of employees in the county per state:\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroad%>%\n  group_by(state)%>%\n  select (`total_employees`)%>%\n  summarize_all(max, na.rm=TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 53 × 2\n   state total_employees\n   <chr>           <dbl>\n 1 AE                  2\n 2 AK                 88\n 3 AL                990\n 4 AP                  1\n 5 AR                972\n 6 AZ                749\n 7 CA               2888\n 8 CO                553\n 9 CT               1561\n10 DC                279\n# … with 43 more rows\n```\n:::\n:::\n\n\n## Explain and Interpret\n\nBased on the data, Initially I thought that the number of em[ployees would be directly proportional to the size of the state. For example TX is a very large state and has the most number of employees. However, this does not hold true always. We can also find some more interesting statistics using the group by like finding the max number of employees in a particular state based on the county. ",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}